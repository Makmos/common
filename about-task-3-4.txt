а мой взгляд тоже не странное задание, тут всё просто:
все роли создаются через ansible-galaxy init users .. http .. php..
далее в каждой роли в tasks/main.yml прописывается то же самое что и в обычном playbook, как в предыдущих заданиях стандартный набор: таски, конфиги nginx, шаблоны..
все эти задачи были выполнены в модуле

